<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ“š Thesis Writing Assistant</title>
  <link rel="stylesheet" href="style.css">
  <script>
    // Vercel will replace these placeholders with your actual API keys
    window.APP_CONFIG = {
      OPENAI_API_KEY: "%VITE_OPENAI_API_KEY%",
      SEMANTIC_SCHOLAR_API_KEY: "%VITE_SEMANTIC_SCHOLAR_API_KEY%"
    };
  </script>
</head>
<body>
  <h1>ğŸ“ Thesis Writing Assistant</h1>

  <!-- ğŸ“„ Section 1: Introduction Analysis -->
  <section>
    <h2>ğŸ“„ Introduction Analysis & Topic Discovery</h2>
    <textarea id="introduction" placeholder="Paste your thesis introduction here..."></textarea>
    <button id="analyzeIntroduction">ğŸ“¤ Analyze Introduction</button>
    <button class="whatDoesItMean">ğŸ“– What Does It Mean?</button>
    <div id="analyzeIntroductionResult" class="result-box"></div>
    <button id="addNote">â• Add to Notes</button>
  </section>
  
  <!-- âœï¸ Section 2: One-Topic Exploration -->
  <section>
    <h2>ğŸ” Search Real Studies by Topic</h2>
    <textarea id="authorInput" placeholder="Enter one topic you'd like to explore..."></textarea>
    <button id="refineIdeas">ğŸ” Refine & Connect to Real Studies</button>
    <button class="whatDoesItMean">ğŸ“– What Does It Mean?</button>
    <h3>ğŸ§  Subtopics & Related Research</h3>
    <div id="authorStudiesBox" class="studies-box"></div>
    <h3>âœï¸ APA References & Writing Suggestions</h3>
    <div id="authorSuggestions" class="result-box"></div>
    <button id="addNote">â• Add to Notes</button>
  </section>

  <!-- ğŸ’¬ Section 3: Expert Academic Help -->
  <section>
    <h2>ğŸ’¬ Expert Academic Help</h2>
    <textarea id="generalChat" placeholder="Ask anything â€” cite sources, rephrase your idea, request APA references, etc..."></textarea>
    <button id="sendGeneralChat">ğŸ“¤ Ask ChatGPT</button>
    <button class="whatDoesItMean">ğŸ“– What Does It Mean?</button>
    <div id="generalChatResult" class="result-box"></div>
    <button id="addNote">â• Add to Notes</button>
  </section>

  <!-- ğŸ—‚ Section 4: Notes Accumulation -->
  <section>
    <h2>ğŸ—‚ Personal Notes</h2>
    <ul id="notesList">
      <li>ğŸ“Œ Saved notes will appear here and be used to write your final section.</li>
    </ul>
  </section>

  <!-- ğŸ“– Section 5: Final Section Writer -->
  <section>
    <h2>ğŸ“– Build Final Section Using My Notes</h2>
    <div id="suggestedFullSection">Click the button below to generate your "Previous Studies and Related Topics" section.</div>
    <button id="generateFullSection">â–¶ï¸ Generate Full Section</button>
    <button class="whatDoesItMean">ğŸ“– What Does It Mean?</button>
  </section>
  <!-- ğŸ“– References Section -->
<section id="referencesSection">
  <h2>ğŸ“– References (APA)</h2>
  <ul id="referencesList"></ul>
</section>
   <section id="glossarySection">
  <h2>ğŸ“˜ Saved Glossary</h2>
  <ul id="glossaryList"></ul>
</section>

  

  <!-- ğŸ’¾ Section 6: Save Work -->
  <section style="text-align: center; margin-top: 30px;">
    <button id="saveWork">ğŸ’¾ Save My Work</button>
  </section>

  <!-- ğŸ“– Glossary Popup -->
  <div id="glossaryPopup" style="display: none; position: absolute;">
    <h3>ğŸ“– Glossary</h3>
    <p><strong>Phrase:</strong> <span id="glossaryTerm">[Selected text]</span></p>
    <p><strong>Meaning (English):</strong> <span id="glossaryEnglish">Definition here</span></p>
    <p><strong>Meaning (Japanese):</strong> <span id="glossaryJapanese">æ—¥æœ¬èªè¨³</span></p>
    <hr>
    <p><strong>Button Guide:</strong></p>
    <ul style="text-align: left;">
      <li>ğŸ”Š <strong>Play It:</strong> Hear the pronunciation</li>
      <li>â• <strong>Add to Glossary:</strong> Save this word</li>
      <li>ğŸ“‹ <strong>Copy to Clipboard:</strong> Copy everything above</li>
      <li>âŒ <strong>Close:</strong> Close this popup</li>
    </ul>
    <button id="playIt">ğŸ”Š Play It</button>
    <button id="addToGlossary">â• Add to Glossary</button>
    <button id="copyToClipboard">ğŸ“‹ Copy</button>
    <button id="closeGlossary">âŒ Close</button>
  </div>
<!-- ğŸ“– Glossary Popup -->
<div id="glossaryPopup" style="display: none; position: absolute; z-index: 9999; background: #fff; border: 1px solid #ccc; padding: 20px; border-radius: 10px; width: 300px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
  <h3 style="cursor: move; margin-top: 0;">ğŸ“– Glossary</h3>
  <p><strong>Phrase:</strong> <span id="glossaryTerm">[Selected text]</span></p>
  <p><strong>Meaning (English):</strong> <span id="glossaryEnglish">[English definition here]</span></p>
  <p><strong>Meaning (Japanese):</strong> <span id="glossaryJapanese">[Japanese translation]</span></p>
  <hr>
  <p><strong>Button Guide:</strong></p>
  <ul style="text-align: left;">
    <li>ğŸ”Š <strong>Play It:</strong> Read the word out loud using AI</li>
    <li>â• <strong>Add to Glossary:</strong> Save this word for later</li>
    <li>ğŸ“‹ <strong>Copy to Clipboard:</strong> Copy all info</li>
    <li>âŒ <strong>Close:</strong> Close the popup</li>
  </ul>
  <button id="playIt">ğŸ”Š Play It</button>
  <button id="addToGlossary">â• Add to Glossary</button>
  <button id="copyToClipboard">ğŸ“‹ Copy</button>
  <button id="closeGlossary">âŒ Close</button>
</div>
  <script src="app.js"></script>
</body>
</html>